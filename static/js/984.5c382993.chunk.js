"use strict";(self.webpackChunkboba_watch=self.webpackChunkboba_watch||[]).push([[984],{1196:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var i=t(1413),l=t(885),a=t(2791),d=t(3168),s=t(9669),o=t(1830),r=t.n(o),c=t(7054),u=t(2124),m=t(8655),h=t(1097),b=t(6433),v=t(4813),f="MobileAdd_container__lW22r",x="MobileAdd_add-holder__VACRk",_="MobileAdd_tag__+Meh6",p="MobileAdd_autofill-divider__855Ph",j="MobileAdd_autofill-label__4qa2-",N="MobileAdd_content__bmX2p",g="MobileAdd_autofill-select__kU9Kb",A="MobileAdd_add-button-holder__69uRY",C="MobileAdd_text__+xsBZ",M="MobileAdd_save__WJESQ",Z=t(8182),k=t(184),w=function(){var e,n,t,o=(0,d.$)().t,w=(0,h.H)(),B=w.disabled,E=w.form,T=w.id,y=w.setForm,R=w.editForm,S=w.handleChange,D=w.submit,F=(0,h.p)(),H=F.autofill,I=F.add,O=F.remove,K=(0,a.useState)([]),P=(0,l.Z)(K,2),W=P[0],L=P[1];(0,a.useEffect)((function(){L(H.map((function(e){var n,t;return(0,i.Z)({label:(null!==(n=null===e||void 0===e?void 0:e.name)&&void 0!==n?n:"[NO DRINK NAME]")+" @ "+(null!==(t=null===e||void 0===e?void 0:e.location)&&void 0!==t?t:"[NO DRINK LOCATION]")},e)})))}),[H]);return(0,k.jsx)("div",{className:"page with-user",children:(0,k.jsxs)("form",{className:f,onSubmit:D,children:[(0,k.jsx)("h4",{className:"bw title",children:o("".concat(T?"edit":"add"," a purchase"))}),(0,k.jsxs)(b.Zb,{className:x,children:[(0,k.jsx)("h5",{children:o("WHAT'S THE TEA?")}),(0,k.jsxs)("div",{className:N,children:[(0,k.jsx)("label",{className:j,children:"Autofill with saved entry:"}),(0,k.jsx)(c.ZP,{options:W,name:"autofill",onChange:function(e){r().fire({showCancelButton:!0,html:"use or remove entry? <br />(click outside to cancel)",cancelButtonText:"remove",confirmButtonText:"autofill",cancelButtonColor:"#f44",reverseButtons:!0}).then((function(n){n.value?y((function(n){return(0,i.Z)((0,i.Z)((0,i.Z)({},n),e),{},{price:null!==e&&void 0!==e&&e.price?e.price/100:n.price})})):"cancel"===n.dismiss&&O(e.value)}))},className:g}),(0,k.jsx)("div",{className:p,children:"or add a new drink:"}),(0,k.jsxs)("div",{className:"holder",children:[(0,k.jsx)(b.el,{className:_,address:null===E||void 0===E?void 0:E.address}),(0,k.jsx)(v.Q7,{form:E,onChange:R,setForm:y})]}),(0,k.jsx)(b.oi,{value:null!==(e=E.name)&&void 0!==e?e:"",onChange:S("name",150),label:o("drink name")}),(0,k.jsx)(b.oi,{value:null!==(n=E.price)&&void 0!==n?n:0,onChange:S("price",(function(e){return e.match(/^-?\d*\.?\d*$/)&&e.length<10})),label:o("price"),type:"text"}),(0,k.jsx)(u.M,{utils:s.Z,children:(0,k.jsx)(m.x,{label:o("date"),value:E.date,onChange:function(e){return R("date",e,30)},inputProps:{maxLength:100}})})]}),(0,k.jsx)(b.ZF,{rating:E.rating,setRating:function(e){return R("rating",e)}}),(0,k.jsxs)("div",{className:N,children:[(0,k.jsx)(v.Ur,{image:E.image,setImage:function(e){return R("image",e)}}),(0,k.jsx)(v.Hp,{description:null!==(t=E.description)&&void 0!==t?t:"",setDescription:function(e){return R("description",e,2500)}}),(0,k.jsxs)("div",{className:A,children:[(0,k.jsx)("button",{type:"button",onClick:function(e){e.preventDefault();var n=(0,i.Z)((0,i.Z)({},E),{},{price:100*E.price});delete n.id,delete n.date,delete n.edited,delete n.created,I(n)},className:(0,Z.Z)(M,"text"),children:o("SAVE")}),(0,k.jsx)("div",{}),(0,k.jsx)("button",{type:"submit",disabled:B,className:C,children:o(T?"update":"add")})]})]})]})]})})},B=(0,a.memo)(w)}}]);
//# sourceMappingURL=984.5c382993.chunk.js.map