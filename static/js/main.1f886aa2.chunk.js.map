{"version":3,"sources":["components/textUtil.js","components/graphs/DailyHeatMap.js","components/graphs/TimeBarGraphs.js","components/Dashboard.js","components/calculateStatistics.js","components/firebaseCalls.js","components/Add.js","components/TextClipboard.js","components/User.js","components/DrinkPanel.js","components/History.js","components/Login.js","Navigation.js","App.js","theme.js","serviceWorker.js","index.js"],"names":["toMoney","money","parseInt","Number","toFixed","days","times","DailyHeatMap","props","state","time","data","width","weeklyTimeData","dailyGraph","maxes","forEach","day","push","Math","max","apply","i","j","x","y","color","this","className","xType","yType","margin","height","orientation","colorType","style","stroke","strokeWidth","rectStyle","rx","ry","parseTimeData","Component","shortName","TimeBarGraphs","parse","bd","morn","noon","quantityAtTime","s","stackBy","title","textAlign","items","Dashboard","getState","metrics","JSON","localStorage","getItem","cmetrics","drinkTotal","drinkPercentage","td","userDrinkMax","userSpendMax","sunburstData","size","children","tc","screenWidth","window","innerWidth","update","setState","componentDidMount","addEventListener","isLandscape","innerHeight","sunburstSize","variant","id","Utils","padAngle","animation","backgroundPositionY","d","getDefaultMetrics","Array","fill","updateMetrics","drinkObject","add","parseFloat","price","ad","date","Date","getDay","getHours","db","provider","drinkObjects","mmetrics","today","todayMonth","getMonth","todayYear","getFullYear","drink","drinkDate","setItem","stringify","drinkData","drinks","length","insertDrinkSorted","toInsertDate","lo","hi","splice","mid","midDate","getTime","deletedDrink","indexOf","removeItem","nothing","defaultProcess","init","drinkids","each","properties","key","value","end","result","stats","recalculateMetrics","updateStats","userStats","callback","collection","doc","set","then","resp","catch","error","swal","firebase","enablePersistence","FacebookAuthProvider","login","isLoggedIn","onAuthStateChanged","user","attempt","signInWithRedirect","check","approved","notapproved","getRedirectResult","credential","logout","signOut","setup","defaultProfile","budget","limit","public","get","userProperties","userPublic","isNaN","cstats","fn","process","collections","orderBy","querySnapshot","e","delete","drinkid","console","log","Add","selectedDate","handleDateChange","document","getElementById","disabled","r","addLocally","addDrink","backend","close","name","location","toISOString","description","open","onClick","fontSize","label","inputProps","maxLength","type","pattern","utils","DateFnsUtils","format","onChange","withRouter","TextClipboard","copiedNotification","closeSnackbar","copy","navigator","share","text","url","padding","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","message","logoutButton","border","boxShadow","backgroundColor","User","defaultState","clear","origin","handleChange","event","target","handleToggle","getHelp","src","alt","checked","in","DrinkPanel","toggle","toggleAdd","hasImage","photo","trim","removeLocally","deleteDrink","dDate","toDateString","substr","History","monthly","sum","complete","monthlyDisplay","completeDisplay","isArray","map","monthlyDrinks","totalDrinks","monthlySum","totalSum","displayedMonthly","displayedOverall","displayMoreMonthly","displayMoreOverall","ar","Login","handleClose","loggedIn","successfulLogin","href","rel","action","aria-label","position","top","right","Navigation","component","Link","to","icon","disableRipple","refocus","App","item","current","loading","fullscreenImage","createElement","insertAdjacentHTML","body","appendChild","finishLoad","removeChild","load","additionalUserInfo","profile","picture","first_name","uid","isNewUser","getDrinksAndRedirect","redirect","history","componentDidCatch","React","createRef","exact","strict","path","render","ref","theme","createMuiTheme","overrides","MuiButton","borderRadius","fontFamily","fontWeight","MuiBottomNavigation","root","MuiBottomNavigationAction","iconOnly","wrapper","MuiDialogActions","palette","primary","main","light","contrastText","secondary","typography","useNextVariants","h1","marginBottom","h2","h3","h4","h5","h6","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","isUpdateAvailable","Promise","resolve","reject","reg","err","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ReactDOM","basename","URL","fetch","response","contentType","headers","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.1f886aa2.chunk.js","sourcesContent":["/**\n * @function toMoney - parses int value and displays decimal format\n * @param {*} money \n */\nfunction toMoney(money, short = false){\n    if(short){\n        return parseInt(money/100);\n    }\n    return Number(money/100).toFixed(2);\n\n}\nexport default {\n    toMoney: toMoney\n}","import React, { Component } from 'react';\nimport {Card} from '@material-ui/core';\nimport { XYPlot, XAxis, YAxis, HeatmapSeries } from 'react-vis';\nimport 'react-vis/dist/style.css';\n\nconst days = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\nconst times = [\n    \"1 AM\", \"2 AM\", \"3 AM\", \"4 AM\", \"5 AM\", \"6 AM\", \"7 AM\", \"8 AM\", \"9 AM\", \"10 AM\", \"11 AM\", \"12 AM\",\n    \"1 PM\", \"2 PM\", \"3 PM\", \"4 PM\", \"5 PM\", \"6 PM\", \"7 PM\", \"8 PM\", \"9 PM\", \"10 PM\", \"11 PM\", \"12 PM\"\n];\n\nexport class DailyHeatMap extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            time: props.data,\n            width: props.width\n        };\n    };\n    parseTimeData(weeklyTimeData) {\n        let dailyGraph = [];\n        let maxes = [];\n        weeklyTimeData.forEach(day => {\n            maxes.push(Math.max.apply(null, day))\n        });\n        let max = Math.max.apply(null, maxes);\n        weeklyTimeData.forEach((day, i) => {\n            day.forEach((time, j) => {\n                dailyGraph.push({\n                    x: days[i],\n                    y: times[j],\n                    color: `rgba(246, 128, 128, ${time === 0 ? 0.1 : (time)/max})`\n                });\n            });\n        });\n        return dailyGraph;\n    }\n    render() {\n        let width = this.props.width\n        return (\n            <Card className=\"daily-chart\">\n                <XYPlot xType=\"ordinal\" yType=\"ordinal\" margin={60} width={width} height={1.8*width}>\n                <XAxis orientation=\"top\" />\n                <YAxis />\n                <HeatmapSeries\n                    colorType=\"literal\"\n                    style={{\n                        stroke: 'white',\n                        strokeWidth: '0px',\n                        rectStyle: {\n                            rx: 0,\n                            ry: 0\n                        }\n                    }}\n                    data={this.parseTimeData(this.props.data)}\n                    />\n                </XYPlot>\n            </Card>\n        )\n    }\n}\n\nexport default DailyHeatMap;\n","import React, { Component } from 'react';\nimport {Card} from '@material-ui/core';\nimport { XYPlot, XAxis, YAxis, VerticalGridLines, HorizontalGridLines, VerticalBarSeries, DiscreteColorLegend } from 'react-vis';\nimport 'react-vis/dist/style.css';\nimport './styles/timebargraphs.css'\n\nlet shortName = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\nexport class TimeBarGraphs extends Component {\n    constructor(props){\n        super(props);\n        this.state = this.parse(this.props.data);\n    }\n    parse = (data) => {\n        let bd = { morn: [], noon: [] }\n        data.forEach((day, i) => {\n            let morn = 0, noon = 0;\n            day.forEach((quantityAtTime, j) => {\n                j >= 11 ? noon += quantityAtTime : morn += quantityAtTime ;\n            });\n            bd.morn.push({x: shortName[i], y: morn});\n            bd.noon.push({x: shortName[i], y: noon});\n            \n        });\n        return bd;\n    }\n    render() {\n        const s = this.state;\n        return (\n            <Card className=\"time-bar-graph--holder\">\n                <XYPlot width={this.props.width - 40} height={300} stackBy=\"y\" xType=\"ordinal\">\n                <VerticalGridLines />\n                <HorizontalGridLines />\n                <XAxis />\n                <YAxis title={'# of purchases'}/>\n                <VerticalBarSeries color={'#FFACAC'} data={s.morn} />\n                <VerticalBarSeries color={'#FFDCDC'} data={s.noon} />\n                </XYPlot>\n                <DiscreteColorLegend\n                    style={{ textAlign:'center'}}\n                    orientation=\"horizontal\"\n                    items={\n                        [\n                            {\n                                title: 'Morning Purchases',\n                                color: '#FFACAC',\n                                strokeWidth: '5px'\n                            },\n                            {\n                                title: 'Afternoon Purchases',\n                                color: '#FFDCDC',\n                                strokeWidth: '5px'\n                            }\n                        ]\n                    }\n                />\n            </Card>\n        )\n    }\n}\n\nexport default TimeBarGraphs;","import React, { Component } from 'react';\nimport { Typography, Card } from '@material-ui/core';\nimport { Sunburst } from 'react-vis';\nimport Utils from './textUtil.js';\nimport './styles/dashboard.css';\nimport 'react-vis/dist/style.css';\nimport DailyHeatMap from './graphs/DailyHeatMap';\nimport TimeBarGraphs from './graphs/TimeBarGraphs';\n\nexport class Dashboard extends Component {\n    constructor(props){\n        super(props);\n        this.state = this.getState();\n    }\n    getState = () => {\n        let metrics = JSON.parse(localStorage.getItem('metrics'));\n        let cmetrics = JSON.parse(localStorage.getItem('completeMetrics'));\n        let drinkTotal = localStorage.getItem('userDrinkMax');\n        return {\n            drinkPercentage: parseInt((metrics.td / drinkTotal) * 100),\n            userDrinkMax: drinkTotal,\n            userSpendMax: localStorage.getItem('userSpendMax'),\n            sunburstData: {\n                size: 0,\n                color: \"#FFFFFF\",\n                children: [{\n                        title: \"Progress\",\n                        size: metrics.tc,\n                        color: \"#32de44\",\n                        children: [{\n                            title: \"Padding\",\n                            size: 0,\n                            color: \"#FFFFFF\",\n                        }]\n                    },\n                    {\n                        title: \"Until Limit\",\n                        size: localStorage.getItem('userSpendMax') - metrics.tc,\n                        color: \"#F4F4F4\",\n                    }\n                ]\n            },\n            metrics: metrics,\n            cmetrics: cmetrics,\n            screenWidth: window.innerWidth - 40\n        };\n    }\n    update = () => {\n        this.setState(this.getState());\n    }\n    componentDidMount = () => { window.addEventListener( 'resize', () => {\n        this.setState({screenWidth: window.innerWidth - 40});\n    })}\n    isLandscape = () => {\n        return (window.innerWidth / window.innerHeight) > ( 1.625 ) && window.innerHeight > 700 && window.innerWidth > 1200;\n    }\n    render() {\n        let s = this.state;\n        let width = s.screenWidth;\n        let sunburstSize =  this.isLandscape() ? (window.innerHeight * 0.9) : width;\n        return (\n        <div className=\"dashboard-page\">\n            <Typography variant=\"h4\" className=\"dashboard-page--title\">Monthly Spending</Typography>\n            <Card id=\"chart-holder\">\n                <div className=\"chart-holder-description\">\n                    MONTHLY LIMIT: ${Utils.toMoney(s.userSpendMax, s.userSpendMax/10000 > 1)}\n                    <br />\n                    <span>${Utils.toMoney(s.metrics.tc, s.metrics.tc/10000 > 1)}</span>\n                    <br />\n                    REMAINING: ${Utils.toMoney(s.userSpendMax - s.metrics.tc)}\n                </div>\n                <Sunburst height={sunburstSize - (this.isLandscape() ? 105 : 45)} width={sunburstSize-45} data={s.sunburstData} padAngle={0.06} animation colorType={'literal'} />\n            </Card>\n            <Card className=\"month-total-money\">\n                <p>This is how much youâ€™ve spent on drinks so far:</p>\n                <Typography variant=\"h2\">${Utils.toMoney(s.cmetrics.tc, s.cmetrics.tc/10000 > 1)}</Typography>\n            </Card>\n            <Card className=\"month-drink-limit\" style={{backgroundPositionY: (100 - s.drinkPercentage) * 2.7}}>\n                <Typography variant=\"h3\">{s.drinkPercentage}%</Typography>\n                <p>to your max number of drinks this month</p>\n            </Card>\n            <Card className=\"month-total-drinks\">\n                <Typography variant=\"h2\">{s.metrics.td}</Typography>\n                <p>drinks this month</p>\n            </Card>\n            <DailyHeatMap data={s.cmetrics.d} width={this.isLandscape()  ? (width / 4 + 20 )  : width}/>\n            {this.isLandscape() ? ' ' : <TimeBarGraphs width={width} data={s.cmetrics.d}/>}\n        </div>\n        )\n    }\n}\n\nexport default Dashboard;\n","/**\n * @file calculateStatistics.js\n * @copyright Ryan Yang 2019\n * @summary - A set of functions to help calculate metrics for user's drink objects\n */\n\n/**\n * @function getDefaultMetrics - returns an emtpy metrics object. Called during\n * metric recalcuation when starting from nothing. \n * NOTE @note - drinks member should be a 2d array of 168 objects (7x24) of day by time\n * Array(7).fill(Array(24).fill(0)) creates 7 references to the same array and therefore\n * will not work as intended\n */\nfunction getDefaultMetrics() {\n    let metrics = {\n        'td': 0, //total drinks\n        'tc': 0, //total cost\n        'ad': 0, //average drink cost\n        'd': Array(7), //time of drinks\n    }\n    for (let i = 0; i < 7; i++) {\n        metrics.d[i] = Array(24).fill(0);\n    }\n    return metrics;\n}\n\n/**\n * @function recalculateMetrics - Completely recalculates all the data for all the drinks.\n * Should only be called during testing and first time loads on a new device. If old data\n * is stored, should call liveReload function instead\n * @param {*} drinkObjects \n * TODO can make this better since chronological order is a given, just duplicate the mmetrics at certain point\n */\nfunction recalculateMetrics(drinkObjects) {\n    let mmetrics = getDefaultMetrics(),\n        cmetrics = getDefaultMetrics(),\n        today = new Date(),\n        todayMonth = today.getMonth(),\n        todayYear = today.getFullYear();\n    drinkObjects.forEach(drink => {\n        let drinkDate = new Date(drink.date);\n        if(\n            drinkDate.getMonth() === todayMonth &&\n            drinkDate.getFullYear() === todayYear\n        ){\n            updateMetrics(drink, mmetrics);\n        }\n        updateMetrics(drink, cmetrics);\n    });\n    localStorage.setItem('metrics', JSON.stringify(mmetrics));\n    localStorage.setItem('completeMetrics', JSON.stringify(cmetrics));\n    return mmetrics;\n}\nfunction deleteDrink( id ){\n    let mmetrics = JSON.parse(localStorage.getItem('metrics'));\n    let cmetrics = JSON.parse(localStorage.getItem('completeMetrics'));\n    let drinks = JSON.parse(localStorage.getItem('drinkids'));\n    let deletedDrink = JSON.parse(localStorage.getItem(id)),\n        today = new Date(),\n        todayMonth = today.getMonth(),\n        todayYear = today.getFullYear();\n    let drinkDate = new Date(deletedDrink.date);\n    if(\n        drinkDate.getMonth() === todayMonth &&\n        drinkDate.getFullYear() === todayYear\n    ){\n        updateMetrics(deletedDrink, mmetrics, false);\n    }\n    updateMetrics(deletedDrink, cmetrics, false);\n    var i = drinks.indexOf(id);\n    if (i > -1) drinks.splice(i, 1);\n    localStorage.removeItem( id );\n    localStorage.setItem('metrics', JSON.stringify(mmetrics));\n    localStorage.setItem('completeMetrics', JSON.stringify(cmetrics));\n    localStorage.setItem('drinkids', JSON.stringify(drinks));\n}\n/**\n * @function insertDrinkSorted - a modified binary search to insert \n * the newly created drink at correctly sorted time recursively. \n * Couldn't find a way to retrieve the local data\n * @param {*} id \n * @param {*} toInsertDate \n * @param {*} drinks \n * @param {*} lo \n * @param {*} hi \n */\nfunction insertDrinkSorted( id, toInsertDate, drinks, lo, hi ){\n    if( hi <= lo ) {\n        return drinks.splice( toInsertDate < new Date(JSON.parse(localStorage.getItem(drinks[lo])).date) ? lo + 1 : lo, 0, id );\n    }\n    let mid = parseInt( (hi - lo) / 2 + lo );\n    let midDate = new Date(JSON.parse(localStorage.getItem(drinks[mid])).date);\n    if(toInsertDate.getTime() === midDate.getTime()){\n        return drinks.splice(mid + 1, 0, id);\n    }\n    if(toInsertDate < midDate){\n        return insertDrinkSorted( id, toInsertDate, drinks, mid + 1, hi ); \n    }\n    return insertDrinkSorted( id, toInsertDate, drinks, lo, mid - 1 ); \n}\nfunction addDrink( drinkData, id ){\n    let mmetrics = JSON.parse(localStorage.getItem('metrics'));\n    let cmetrics = JSON.parse(localStorage.getItem('completeMetrics'));\n    let drinks = JSON.parse(localStorage.getItem('drinkids'));\n    drinkData.drink.id = id;\n    if(drinks.length){\n        insertDrinkSorted( id, new Date(drinkData.drink.date), drinks, 0, drinks.length - 1 );\n    }else{\n        drinks.push(id);\n    }\n    updateMetrics(drinkData.drink, mmetrics);\n    updateMetrics(drinkData.drink, cmetrics);\n    localStorage.setItem(id, JSON.stringify(drinkData.drink));\n    localStorage.setItem('metrics', JSON.stringify(mmetrics));\n    localStorage.setItem('completeMetrics', JSON.stringify(cmetrics));\n    localStorage.setItem('drinkids', JSON.stringify(drinks));\n}\n/**\n * @function updateMetrics - Updates the current metric object given a new drink\n * Should be called when \n * @param {*} drinkObject - single drink object to be included in calculations\n * @param {*} metrics - metrics object to be updated\n */\nfunction updateMetrics(drinkObject, metrics, add=true) {\n    metrics.td += add ? 1 : -1;\n    metrics.tc += add ? parseFloat(drinkObject.price) : (parseFloat(drinkObject.price) * -1);\n    metrics.ad = parseFloat(metrics.tc) / parseFloat(metrics.td);\n    let date = new Date(drinkObject.date);\n    metrics.d[date.getDay()][date.getHours() - 1] += add ? 1 : -1;\n}\n\nexport default {\n    'getDefaultMetrics': getDefaultMetrics,\n    'recalculateMetrics': recalculateMetrics,\n    'updateMetrics': updateMetrics,\n    'addDrink': addDrink,\n    'deleteDrink': deleteDrink\n}","/**\n * @file firebaseCalls.js\n * @copyright Ryan Yang 2019\n * @summary - A set of functions to help organize all the server calls\n * in one place\n */\n\nimport * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport stats from './calculateStatistics';\nimport swal from 'sweetalert';\n\nlet db;\nlet provider;\n\n/**\n * if callback does nothing\n */\nlet nothing = () => {\n    return;   \n}\n/**\n * @function init\n * @description initializes the firestore and fb auth \n */\nlet init = () => {\n    db = firebase.firestore(); \n    db.enablePersistence();\n    provider = new firebase.auth.FacebookAuthProvider();\n}\n/**\n * @function isLoggedIn\n * @param {*} \n * \n * @description Checks if user is already logged in. \n * \n * @note checkLogin() checks if the user has successfully authenticated,\n * as opposed to this function that checks if it has logged in before\n * \n */\nlet isLoggedIn = ( callback ) => {\n    firebase.auth().onAuthStateChanged( user => {\n        callback(user ? true : false);\n    });\n}\n/**\n * @function attemptLogin\n * @param {*} callback - function with 1 parameter that gets called\n * on function success. callback should have parameter that gets \n * the returned data on successful login\n * \n * @description triggers the firebase redirect login flow\n * \n */\nlet attemptLogin = ( callback=nothing ) => {\n    firebase.auth().signInWithRedirect(provider).then((result) => {\n        callback(result);\n    }).catch( error =>  {\n        swal(\"Error!\", `Login Unsuccessful: ${error}`, \"error\");\n    });\n}\n/**\n * @function checkLogin\n * @param {*} callback - function with 1 parameter that gets called\n * on function success. callback should have parameter that gets \n * the returned data on successful login\n * \n * @description checks the firebase redirect login flow to see\n * if login has been successful\n */\nlet checkLogin = ( approved=nothing, notapproved=nothing ) => {\n    firebase.auth().getRedirectResult().then((result) => {\n        result.credential ? approved(result) : notapproved();\n    }).catch( error => {\n        notapproved();\n    });      \n}\n/**\n * @function logout\n * @param {*} callback - callback function should trigger a redirect\n * to the login page\n * \n * @description logs user out.\n */\nlet logout = ( callback=nothing ) => {\n    firebase.auth().signOut().then(function() {\n        callback();\n    }).catch( error => {\n        swal(\"Error!\", `Logout Unsuccessful: ${error}`, \"error\");\n    });\n}\n/**\n * @function getDrinks\n * @param {*} process - @see defaultProcess to see how this parameter\n * should be formatted. Should be a JSON object with 3 keys:\n * 1. init() - should return an object with all properties to be formatted\n * 2. each() - gets called for each drink object\n * 3. end( result ) - result of process\n * \n * @returns array of drink objects through a callback function\n * \n * @description Gets all the drinks listed under current user and \n * returns an array of all the drinks with data reformatted\n * \n * TODO: funnction should be called when user attempts to refresh any page\n */\nlet getDrinks = ( callback=nothing, process=defaultProcess ) => {\n    let collections = process.init();\n    db.collection(`users/${localStorage.getItem('uid')}/drinks`)\n        .orderBy('drink.date', 'desc')\n        .get()\n        .then( querySnapshot => {\n            querySnapshot.forEach(function(doc) {\n                process.each(doc).forEach( e => {\n                    collections[e.key].push(e.value);\n                });          \n            });\n            process.end(collections);\n            callback();\n        }\n    );\n}\n/**\n * @var defaultProcess - default process for extracting drinks from \n * firebase and using the data ( stores all drink ids as list as well\n * as each drink's data individually )\n * \n */\nlet defaultProcess = {\n    init: () => {\n        return {\n            drinks: [],\n            drinkids: []\n        }\n    },\n    each: ( properties ) => {\n        localStorage.setItem(properties.id, JSON.stringify(\n            {\n                ...properties.data().drink,\n                id: properties.id\n            }\n        ));\n        return [\n            {\n                key: 'drinks',\n                value: { \n                    ...properties.data().drink,\n                    id: properties.id\n                }\n            },\n            {\n                key: 'drinkids',\n                value: properties.id\n            }\n        ];\n    },\n    end: ( result ) => {\n        localStorage.setItem('drinkids', JSON.stringify(result.drinkids));\n        stats.recalculateMetrics(result.drinks);\n    }\n}\n/**\n * @function setupUser\n * \n * @var defaultProfile - schema for user profile to follow\n * \n * @description Called when user is brand new. Sets up their profile on firebase\n */\nlet setupUser = ( callback=nothing ) => {\n    const defaultProfile = {\n        'budget': 10000,\n        'limit': 15,\n        'public': false\n    }\n    db.collection('users')\n    .doc(localStorage.getItem('uid'))\n    .collection('user')\n    .doc('profile')\n    .set( defaultProfile )\n    .then( ( resp ) => {\n        localStorage.setItem('userSpendMax', defaultProfile.budget);\n        localStorage.setItem('userDrinkMax', defaultProfile.limit);\n        localStorage.setItem('userPublic', defaultProfile.public);\n        callback( resp );\n    }).catch( error => {\n        swal(\"Error!\", `Error setting up your account: ${error}`, \"error\");\n    });\n}\n\nlet updateUser = ( userProperties, callback=nothing ) => {\n    let data = {\n        public: userProperties.userPublic,\n        budget: parseFloat(userProperties.userSpendMax) * 100,\n        limit: parseInt(userProperties.userDrinkMax)\n    };\n    if(isNaN(data.budget) || isNaN(data.limit)){\n        swal(\"Error!\", \"Please enter valid numbers\", \"error\");\n        return;\n    }\n    db.collection( 'users' )\n    .doc(localStorage.getItem('uid'))\n    .collection( 'user' )\n    .doc( 'profile' )\n    .set( data )\n    .then( ( resp ) => {\n        localStorage.setItem('userSpendMax', parseInt(data.budget));\n        localStorage.setItem('userDrinkMax', parseInt(data.limit));\n        localStorage.setItem('userPublic', data.public);\n        swal(\"Success!\", \"Your settings have been updated\", \"success\")\n        .then((value) => {\n            callback( value, resp );\n        });\n    }).catch( error => {\n        swal(\"Error!\", `${error}`, \"error\");\n    });\n}\nlet updateStatsFromLocalStorage = (callback=nothing) => {\n    let stats = JSON.parse(localStorage.getItem('metrics')),\n        cstats = JSON.parse(localStorage.getItem('completeMetrics'));\n    delete stats.d;\n    stats['ctd'] = cstats.td;\n    stats['ctc'] = cstats.tc;\n    stats['cad'] = cstats.ad;\n    stats['d'] = JSON.stringify(cstats.d);\n    stats.fn = localStorage.getItem('fname');\n    updateStats(stats, callback);\n}\n/**\n * @function updateStats\n * @param {*} userStats - User stats to publish onto firebase\n * \n * @description Update all the user stats\n * \n */\nlet updateStats = ( userStats, callback=nothing ) => {\n    db.collection( 'users' )\n    .doc(localStorage.getItem('uid'))\n    .collection( 'user' )\n    .doc( 'stats' )\n    .set( userStats )\n    .then( ( resp ) => {\n        callback( resp );\n    }).catch( error => {\n        swal(\"Error!\", `${error}`, \"error\");\n        callback( error );\n    });\n}\nlet getUser = ( callback=nothing ) => {\n    db.collection( 'users' )\n    .doc( localStorage.getItem('uid') )\n    .collection( 'user' )\n    .doc( 'profile' )\n    .get()\n    .then( ( resp ) => {\n        let data = resp.data();\n        localStorage.setItem('userSpendMax', parseInt(data.budget));\n        localStorage.setItem('userDrinkMax', parseInt(data.limit));\n        localStorage.setItem('userPublic', data.public);\n        callback(resp);\n    }).catch( error => {\n        swal(\"Error!\", `${error}`, \"error\");\n    });\n}\n/**\n * @function addDrink\n *  \n * @description Adds a drink to firebase and should return information\n * regarding the added drink such as the generated id\n */\nlet addDrink = ( data, callback=nothing ) => {\n    db.collection(`users/${localStorage.getItem('uid')}/drinks`)\n    .add( data )\n    .then( ( resp ) => {\n        swal(\"Done!\", \"Drink has been added\", \"success\"); \n        callback( resp );\n    }).catch( error => {\n        swal(\"Error!\", `${error}`, \"error\");\n    });\n}\nlet deleteDrink = ( drinkid, callback=nothing ) => {\n    db.collection(`users/${localStorage.getItem('uid')}/drinks`)\n    .doc( drinkid )\n    .delete()\n    .then((resp) => {\n        swal(\"Done!\", \"Drink has been deleted\", \"success\"); \n        callback();\n    }).catch( error => {\n        console.log(error);\n        swal('Error!', `Couldn't delete your drink. Try again later!`, 'error');\n    });\n}\nexport default {\n    init: init,\n    login: {\n        isLoggedIn: isLoggedIn,\n        attempt: attemptLogin,\n        check: checkLogin,\n    },\n    logout: logout,\n    user: {\n        setup: setupUser,\n        get: getUser,\n        update: updateUser,\n        updateStats: updateStatsFromLocalStorage,\n    },\n    drinks: {\n        get: getDrinks,\n        add: addDrink,\n        delete: deleteDrink\n    }\n}","import React, { Component } from 'react';\nimport 'date-fns';\nimport swal from 'sweetalert';\nimport './styles/add.css';\nimport { Typography, TextField, Button, IconButton, Modal } from '@material-ui/core';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, DateTimePicker } from 'material-ui-pickers';\nimport CloseButton from '@material-ui/icons/Close';\nimport { withRouter } from 'react-router-dom';\nimport stats from './calculateStatistics';\nimport backend from './firebaseCalls';\n\nexport class Add extends Component {\n    state = {\n        selectedDate: new Date()\n    }\n    handleDateChange = (date) => {\n        this.setState({\n            selectedDate: date\n        })\n    };\n    /**\n     * @function update\n     * TODO: implement live reload instead of using recalculate metrics\n     * also need to do user input sanitation for reading the metrics and storing legit data\n     */\n    update = ( resp ) => {\n        document.getElementById('add-drink--button').disabled = false;\n        resp.get().then(r => {\n            this.addLocally(r.data(), r.id);\n        })\n    }\n    addLocally = (data, id) => {\n        stats.addDrink(data, id);\n        backend.user.updateStats();\n        this.props.close();\n        this.setState({\n            selectedDate: new Date()\n        });\n    }\n    /**\n     * @function addDrink - called when the user submits drink information to be added.\n     * Has 3 parts:\n     *  1. Gets all the user filled out info\n     *  2. Only required parameter is price and if not filled, throws error\n     *  3. Makes api call to server to add the drink with info\n     * \n     * TODO: better job of parsing the info and potentially add chips and autofill for\n     * better data processing\n     */\n    addDrink = () => {\n        document.getElementById('add-drink--button').disabled = true;\n        let data = {\n            drink: {\n                name: document.getElementById('name-value').value,\n                location: document.getElementById('location-value').value,\n                price: parseInt(parseFloat(document.getElementById('price-value').value) * 100),\n                date: new Date(document.getElementById('date-value').value).toISOString(),\n                description: document.getElementById('description-value').value\n            }\n        }\n        // validate price\n        if (isNaN(data.drink.price)) {\n            swal(\"Error!\", `Please enter a valid price to add drink`, \"error\");\n            document.getElementById('add-drink--button').disabled = false;\n            return;\n        }\n        backend.drinks.add(data, this.update);\n    };\n    render() {\n        return (\n        <Modal open={this.props.open}>\n            <div className=\"add-modal\">\n                <IconButton color=\"secondary\" className=\"close-button\" onClick={this.props.close}>\n                    <CloseButton color=\"secondary\" style={{ fontSize: 14 }}/>\n                </IconButton>\n                <Typography variant=\"h5\" style={{textAlign: \"center\"}}>Add a purchase</Typography>\n                <TextField id=\"location-value\" className=\"add-input\" label=\"Location\" inputProps={{ maxLength: 250 }}/>\n                <TextField id=\"name-value\"  className=\"add-input\" margin=\"dense\" label=\"Drink name\" inputProps={{ maxLength: 80 }}/>\n                <TextField id=\"price-value\" className=\"add-input\" margin=\"dense\" label=\"Price\" inputProps={{ maxLength: 30 }}\n                    type='number'\n                    pattern=\"^-?[0-9]\\d*\\.?\\d*$\"\n                />\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                    <DateTimePicker\n                        id=\"date-value\"\n                        className=\"add-input\"\n                        margin=\"dense\"\n                        format=\"M/d/yyyy h:mm a\"\n                        label=\"Date\"\n                        value={this.state.selectedDate}\n                        onChange={this.handleDateChange}\n                        inputProps={{ maxLength: 100 }}\n                    />\n                </MuiPickersUtilsProvider>\n                <TextField id=\"description-value\" className=\"add-input\" label=\"Description\" inputProps={{ maxLength: 1000 }}/>\n                <div className=\"add-button-holder\">\n                    <Button id=\"add-drink--button\" onClick={this.addDrink} className=\"add-button\">ADD</Button>\n                </div>\n            </div>\n        </Modal>\n        )\n    }\n}\n\nexport default withRouter(Add);\n","import React, { Component } from 'react';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\nimport {IconButton, Snackbar} from '@material-ui/core';\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport './styles/textclipboard.css';\n\nexport class TextClipboard extends Component{\n    state = {\n        copiedNotification: false\n    }\n    closeSnackbar = () => {\n        this.setState({ copiedNotification: false });\n    };\n    copy = () => {\n        if (navigator.share) {\n            navigator.share({\n                title: 'My Boba Watch Profile',\n                text: 'Check out my boba spending!',\n                url: this.props.text,\n            }).catch((error) => {\n                this.setState({ copiedNotification: true });\n            })\n        }else{\n            this.setState({ copiedNotification: true });\n        }\n          \n    }\n    render() {\n        return (\n        <div className=\"clipboard\">\n            <div className=\"clipboard-text\" id=\"copy-me\">\n                {this.props.text}\n            </div>\n            <CopyToClipboard text={this.props.text} >\n                <IconButton style={{padding: 0}} className=\"clipboard-icon\" onClick={this.copy}>\n                    <FileCopyIcon style={{fontSize: 14}}/>\n                </IconButton>\n            </CopyToClipboard>\n            <Snackbar\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'center',\n                }}\n                open={this.state.copiedNotification}\n                autoHideDuration={4000}\n                onClose={this.closeSnackbar}\n                message={<span>Link Copied!</span>}\n            />\n        </div>\n        )\n    }\n}\n\nexport default TextClipboard;\n","import React, { Component } from 'react';\nimport {Typography, TextField, Button, IconButton, Switch, Collapse, Modal} from '@material-ui/core';\nimport CloseButton from '@material-ui/icons/Close';\nimport HelpButton from '@material-ui/icons/Help';\nimport TextClipboard from './TextClipboard';\nimport backend from './firebaseCalls';\nimport './styles/user.css';\n\nlet logoutButton = {\n    color: '#FF0000',\n    border: '1px solid red',\n    boxShadow: 'none',\n    backgroundColor: '#FFFFFF'\n};\n\nexport class User extends Component {\n    defaultState = () => {\n        return {\n            userSpendMax: localStorage.getItem('userSpendMax')/100,\n            userDrinkMax: localStorage.getItem('userDrinkMax'),\n            userPublic: localStorage.getItem('userPublic') === 'true' ? true : false,\n        };\n    }\n    state = this.defaultState();\n\n    logout = () => {\n        backend.logout(\n            () => { \n                localStorage.clear();\n                window.location = window.location.origin;\n            }\n        );\n    }\n    handleChange = name => event => {\n        this.setState({ [name]: event.target.value });\n    }\n    handleToggle = () => {\n        this.setState(state => ({\n            userPublic: !state.userPublic,\n        }), () => {backend.user.update(this.state, this.close)} );\n    }\n    close = () => { \n        this.props.close();\n        this.setState(this.defaultState());\n    }\n    getHelp = () => {\n        window.open('https://info.boba.watch/');\n    }\n    render() { \n        const s = this.state;\n        return (\n        <Modal open={this.props.open}>\n            <div className=\"user-modal\" style={{height: s.userPublic ? 385 : 350}}>\n                <IconButton color=\"secondary\" className=\"modal-small--button close-button\" onClick={ () => {this.close() }}>\n                    <CloseButton color=\"secondary\" style={{ fontSize: 14 }}/>\n                </IconButton>\n                <IconButton className=\"modal-small--button help-button\" onClick={ () => {this.getHelp() }}>\n                    <HelpButton color=\"secondary\" style={{ fontSize: 14 }}/>\n                </IconButton>\n                <img src={localStorage.getItem('avatar')} className=\"user-avatar\" alt=\"user\"/>\n                <Typography variant=\"h5\" style={{textAlign: \"center\"}}>User settings</Typography>\n                <TextField\n                    id=\"monthly-spending-input\"\n                    type='tel'\n                    pattern=\"^-?[0-9]\\d*\\.?\\d*$\"\n                    className=\"user-input\"\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    onChange={this.handleChange('userSpendMax')}\n                    value={s.userSpendMax}\n                    label=\"Monthly Spending Limit\"\n                />\n                <TextField\n                    id=\"monthly-drinking-limit\"\n                    type='tel'\n                    pattern=\"^-?[0-9]\\d*\\.?\\d*$\"\n                    className=\"user-input\"\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                    onChange={this.handleChange('userDrinkMax')}\n                    value={s.userDrinkMax}\n                    label=\"Max of drinks / month\"\n                />\n                <div className=\"user-share-profile\">\n                    Share Profile: \n                    <Switch\n                        checked={s.userPublic}\n                        onClick={this.handleToggle}\n                        label=\"Share Profile\"\n                        color=\"primary\"\n                    />\n                </div>\n                <Collapse in={s.userPublic}>\n                    <TextClipboard text={`https://share.boba.watch/#/${localStorage.getItem('uid')}`}/>\n                </Collapse>\n                <div className=\"update-button-holder\">\n                    <Button \n                        className=\"logout-button\"\n                        variant=\"text\"\n                        onClick={this.logout}\n                        style={logoutButton}>\n                        LOGOUT\n                    </Button>\n                    <Button className=\"update-button\" onClick={ () => { backend.user.update(s, this.close) } }>UPDATE</Button>\n                </div>\n            </div>\n        </Modal>\n        );\n    }\n}\n\nexport default User;\n","import React, { Component } from 'react';\nimport {Button} from '@material-ui/core';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport Utils from './textUtil.js';\nimport backend from './firebaseCalls';\nimport stats from './calculateStatistics';\nimport './styles/history.css';\n\nexport class DrinkPanel extends Component {\n    state =  { open: false, add: false };\n    toggle = () => { this.setState(state => ({ open: !state.open })) }\n    toggleAdd = () => { this.setState(state => ({ add: !state.add })) }\n\n    hasImage = () => {\n        if(this.props.data.photo !== null && this.props.data.photo.trim() !== \"\" ){\n            return  <img alt=\"drink\" src={this.props.data.photo} />;\n        }\n    }\n    delete = () => {\n        backend.drinks.delete(\n            this.props.data.id,\n            this.removeLocally\n        );\n    }\n    /**\n     * @function removeLocally\n     * TODO create a function in calculate statistics that deals with recalculating metrics\n     * from deleting something\n     */\n    removeLocally = () => {\n        stats.deleteDrink(this.props.data.id);\n        this.props.update();\n        backend.user.updateStats();\n    }\n    /**\n     * TODO: if implementing edit function ever again, uncomment below code\n     */\n    // edit = () => { this.toggleAdd(this.delete) }\n    render() {\n        let dDate = new Date(this.props.data.date);\n        return (\n        <div className=\"thaman-color\">\n            {/* <Modal open={this.state.add} onBackdropClick={this.toggleAdd} >\n                <div>\n                    <Add toggleSelf={this.edit}/>\n                </div>\n            </Modal> */}\n            <div className=\"history-drink-label\" onClick={this.toggle}>\n                <p className=\"drink-place\">\n                    {this.props.data.location}\n                </p>\n                <p className=\"drink-price\">\n                    ${Utils.toMoney(this.props.data.price)}\n                </p>\n                <div className=\"expand-icon\">\n                    {this.state.open ? <ExpandLessIcon /> : <ExpandMoreIcon/>}\n                </div>\n                <p className=\"drink-name\">\n                        {this.props.data.name}\n                </p>\n                <p className=\"drink-time\">\n                    {(new Date(this.props.data.date)).toDateString().substr(4)}\n                </p>\n            </div>\n            <Collapse in={this.state.open} className=\"drink-collapse\">\n                {/* {this.hasImage()} */}\n                <p className=\"drink-label\">\n                    {this.props.data.name} \n                    <br />\n                    <span>@{this.props.data.location}</span>\n                </p>\n                <p className=\"drink-description\">\n                    {this.props.data.description}\n                </p>\n                <p className=\"drink-date\">\n                    <span>on</span> {dDate.toDateString()}\n                </p>\n\n                <div className=\"drink-options\">\n                    {/* <Button onClick={this.edit}>EDIT</Button> */}\n                    <Button onClick={this.delete}>DELETE</Button>\n                </div>\n            </Collapse>\n        </div>\n        )\n    }\n}\n\nexport default DrinkPanel;\n","import React, { Component } from 'react';\nimport {Typography} from '@material-ui/core';\nimport DrinkPanel from './DrinkPanel';\nimport Utils from './textUtil.js';\nimport './styles/history.css';\n\nexport class History extends Component {\n    state = {\n        monthly: {\n            drinks: [<div className=\"thaman-color\"><Typography variant=\"h3\" key={1}>No drinks this month :(</Typography></div>],\n            sum: 0\n        },\n        complete: {\n            drinks: [<div className=\"thaman-color\"><Typography variant=\"h3\" key={1}>Add a drink to start!</Typography></div>],\n            sum: 0\n        },\n        monthlyDisplay: 10,\n        completeDisplay: 5\n    };\n    componentDidMount(){\n        this.update();\n    }\n    update = () => {\n        let drinks = JSON.parse(localStorage.getItem('drinkids'));\n        if(!Array.isArray(drinks) || !drinks.length) return;\n        drinks = drinks.map(id => JSON.parse(localStorage.getItem(id)) );\n        let monthlyDrinks = [],\n            totalDrinks = [],\n            monthlySum = 0,\n            totalSum = 0,\n            today = new Date(),\n            todayMonth = today.getMonth(),\n            todayYear = today.getFullYear(),\n            displayedMonthly = this.state.monthlyDisplay,\n            displayedOverall = this.state.completeDisplay;\n        \n        drinks.forEach( ( e, i ) => {\n            let drinkDate = new Date(e.date);\n            if(drinkDate.getMonth() === todayMonth && drinkDate.getFullYear() === todayYear){\n                if(displayedMonthly > 0 ){\n                    monthlyDrinks.push((<DrinkPanel key={e.id} data={e} update={this.update} />));\n                    displayedMonthly = displayedMonthly - 1;\n                }\n                monthlySum += parseFloat(e.price);\n            }else{\n                if(displayedOverall > 0 ){\n                    totalDrinks.push((<DrinkPanel key={e.id} data={e} update={this.update} />));\n                    displayedOverall = displayedOverall - 1;\n                }\n            }\n            totalSum += parseFloat(e.price);\n        });\n        if( displayedMonthly <= 0 ){\n            monthlyDrinks.push(\n                <div className=\"thaman-color\">\n                <div className=\"history-load-more\" onClick={this.displayMoreMonthly}>\n                    â€¢ â€¢ â€¢\n                </div>\n            </div>\n            );\n        }\n        if( displayedOverall <= 0 ){\n            totalDrinks.push(\n                <div className=\"thaman-color\">\n                <div className=\"history-load-more\" onClick={this.displayMoreOverall}>\n                    â€¢ â€¢ â€¢\n                </div>\n            </div>\n            );\n        }\n        this.setState({\n            monthly: {\n                drinks: monthlyDrinks,\n                sum: monthlySum\n            },\n            complete: {\n                drinks: totalDrinks,\n                sum: totalSum\n            }\n        });\n    };\n    displayMoreMonthly = () => {\n        this.setState(state => ({monthlyDisplay: state.monthlyDisplay + 10 }), this.update)\n    }\n    displayMoreOverall = () => {\n        this.setState(state => ({completeDisplay: state.completeDisplay + 10 }), this.update)\n    }\n    render() {\n        return (\n        <div className=\"history-page\">\n            <Typography variant=\"h3\"> Monthly Spending</Typography>\n            <div className=\"history-spending\">\n                {this.state.monthly.drinks}\n            </div>\n            <Typography variant=\"h3\" className=\"history-total\">\n                <span>Monthly Total:</span> ${Utils.toMoney(this.state.monthly.sum)}\n            </Typography>\n            <br />\n            <br />\n            <Typography variant=\"h3\"> Overall Spending</Typography>\n            <div className=\"history-spending\">\n                {this.state.complete.drinks}\n            </div>\n            <Typography variant=\"h3\" className=\"history-total\">\n                <span>Complete Total:</span> ${Utils.toMoney(this.state.complete.sum)}\n            </Typography>\n        </div>\n        )\n    }\n}\n\nexport default History;\n","import React, { Component } from 'react';\nimport {Typography, Snackbar, IconButton} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { withRouter } from 'react-router-dom';\nimport './styles/login.css';\nimport backend from './firebaseCalls';\n\nlet ar = () => { return window.innerHeight/window.innerWidth < 1.2 }\n\nconst desktopAlertString = `Looks like you're using a desktop / landscape mode. Although we're working hard on designing an intuitive desktop mode, there isn't one at the moment. For the best experience, download our progressive web app on your phone! Find more info here: `;\n\nexport class Login extends Component {\n    state = { ar: ar() }\n    componentDidMount = () => { window.addEventListener( 'resize', () => this.setState({ ar: ar() } ) ) }\n    handleClose = () => { this.setState({ ar: false }) }\n    loggedIn = ( r ) => { this.props.successfulLogin( r ) };\n\n    render() {\n        return (\n        <div className=\"login-page\">\n            <div className=\"login-logo\"></div>\n            <Typography variant=\"h1\">boba watch</Typography>\n            <Snackbar\n                open={this.state.ar}\n                message={[desktopAlertString,  <a \n                    key=\"help-link\"\n                    href=\"https://info.boba.watch/\"\n                    rel=\"noopener noreferrer\"\n                    target='_blank'\n                    style={{color: '#FFDCDC'}}> \n                        https://info.boba.watch/ \n                    </a>]}\n                action={\n                    <IconButton\n                      key=\"close\"\n                      aria-label=\"Close\"\n                      style={{position: \"fixed\", top: 0, right: 0, color: '#FFFFFF'}}\n                      onClick={this.handleClose}\n                    >\n                        <CloseIcon />\n                    </IconButton>\n                  }\n            />\n            <button className=\"fb-button\" onClick={ () => backend.login.attempt( this.loggedIn ) }> Log in with Facebook </button>\n        </div>\n        )\n    }\n}\n\nexport default withRouter(Login);\n","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport {BottomNavigation, BottomNavigationAction} from '@material-ui/core';\nimport DashboardIcon from '@material-ui/icons/BarChart';\nimport AddIcon from '@material-ui/icons/Add';\nimport HistoryIcon from '@material-ui/icons/AttachMoney';\nimport './App.css';\n\nexport class Navigation extends Component {\n    render() {\n        return (\n            <BottomNavigation value={this.props.value} onChange={this.props.handleChange} className=\"bottom-nav\">\n                <BottomNavigationAction\n                    label=\"Dashboard\"\n                    value=\"dash\"\n                    component={Link}\n                    to=\"/dash\"\n                    icon={<DashboardIcon />}\n                />\n                <BottomNavigationAction\n                    value=\"add\"\n                    disableRipple={true}\n                    onClick={this.props.toggleAdd}\n                    onClose={this.refocus}\n                    icon={<div className=\"center-fab\">< AddIcon style={{ fontSize: 50 }}/></div>}\n                />\n                <BottomNavigationAction\n                    label=\"Spending\"\n                    value=\"history\"\n                    component={Link}\n                    to=\"/history\"\n                    icon={<HistoryIcon />}\n                />\n            </BottomNavigation>\n        );\n    }\n}\n\nexport default Navigation;\n","import React, { Component } from 'react';\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport Dashboard from './components/Dashboard';\nimport Add from './components/Add';\nimport User from './components/User';\nimport History from './components/History';\nimport Login from './components/Login';\nimport Navigation from './Navigation';\nimport backend from './components/firebaseCalls';\nimport './App.css';\n\nclass App extends Component {\n    constructor(props){\n        super(props);\n        backend.init();\n        this.load = this.loading();\n        backend.login.isLoggedIn((e) => {\n            if(e && localStorage.getItem('uid')){\n                this.redirect(e);\n            }else{\n                backend.login.check(this.successfulLogin, () => { props.history.push('/'); this.finishLoad(); });\n            }\n        })\n        this.update = React.createRef();\n    }\n    state = {\n        add: false,\n        user: false,\n        value: '',\n    };\n    toggle = (item) => {\n        this.setState(state => ({ [item]: !state[item] }));\n        this.update.current.update();\n    }\n    handleChange = (event, value) => { this.setState({ value }) };\n    /**\n     * @function successfulLogin - handles a successful login\n     * @param {*} r - firebase auth response\n     * \n     * @description Login does multiple checks and then goes through\n     * login phase.\n     * \n     * First check - if this is a new device or a new user on current device\n     * If true, it will clear the localstorage and fill it with the new user's\n     * information\n     * \n     * Second check - if user is brand new, generate a defualt profile for them\n     * \n     * After checks, should redirect to dashboard page\n     */\n    loading = () => {\n        let fullscreenImage = document.createElement('div');\n        fullscreenImage.className = \"loading-background\";\n        fullscreenImage.insertAdjacentHTML('beforeend', `<div class=\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div>`);\n        document.body.appendChild(fullscreenImage);\n        return fullscreenImage;\n    }\n    finishLoad = () => {\n        document.body.removeChild(this.load);\n    }\n    successfulLogin = ( r ) => {\n        localStorage.clear();\n        localStorage.setItem( 'avatar', r.additionalUserInfo.profile.picture.data.url );\n        localStorage.setItem( 'fname', r.additionalUserInfo.profile.first_name );\n        localStorage.setItem( 'uid', r.user.uid );\n        if(r.additionalUserInfo.isNewUser){\n            backend.user.setup(this.getDrinksAndRedirect);\n            return;\n        }\n        backend.user.get(this.getDrinksAndRedirect);\n    }\n    getDrinksAndRedirect = () => {\n        backend.drinks.get( () => { \n            this.redirect();\n        });\n    }\n    redirect = () => {\n        this.props.history.push('dash');\n        this.finishLoad();\n    }\n    componentDidCatch = ( ) => {\n        localStorage.clear();\n        window.location = window.location.origin;\n    }\n    render() {\n        const s = this.state;\n        return (\n            <Switch>\n                <Route exact strict path='/' render={() => <Login successfulLogin = { this.successfulLogin }/> }/>\n                <Route strict path='/:page' render={() => \n                    <div className=\"app\">\n                        <div className=\"page\">\n                            <img \n                                src={localStorage.getItem('avatar')}\n                                alt=\"user-settings\"\n                                className=\"avatar-button\"\n                                onClick={() => this.toggle('user')}\n                            />\n                            <Route exact path='/dash' render={() => <Dashboard ref={this.update} /> }/>\n                            <Route exact path='/history' render={() => <History ref={this.update} /> }/>\n                        </div>\n\n                        <Add open={s.add} close={() => this.toggle('add')} />\n                        <User open={s.user} close={() => this.toggle('user')} />\n                        <Navigation value={s.value} handleChange = {this.handleChange} toggleAdd={() => this.toggle('add')} />\n                    </div>\n                } />\n                <Route render={() => <Login successfulLogin = { this.successfulLogin }/> }/>\n            </Switch>\n        );\n    }\n}\n\nexport default withRouter(App);\n","import {createMuiTheme} from '@material-ui/core';\n\n\nconst theme = createMuiTheme({\n    overrides: {\n      MuiButton: {\n        text: {\n          backgroundColor: '#F68080',\n          borderRadius: 3,\n          border: 0,\n          color: 'white',\n          height: 30,\n          padding: '0 30px',\n          margin: '20px',\n          boxShadow: '0 3px 5px 2px rgba(255, 105, 135, 0.3)',\n          fontFamily: 'Poppins',\n          fontWeight: 700,\n          fontSize: 14,\n          '&:hover': {\n            backgroundColor: '#FFDCDC'\n          }\n        },\n      },\n      MuiBottomNavigation: {\n        root: {\n            backgroundColor: '#FFAFA4',\n        }\n      },\n      MuiBottomNavigationAction: {\n        root: {\n            color: '#000000',\n        },\n        iconOnly: {\n            color: '#FF0000'\n        },\n        wrapper: {\n            color: '#FFFFFF ',\n        }\n      },\n      MuiDialogActions: {\n        action: {\n          color: '#FFFFFF'\n        },\n      }\n    },\n    palette: {\n        primary: {\n          main: '#F68080',\n          light: '#FFDCDC',\n          contrastText:'#FFFFFF'\n        },\n        secondary: {\n            main: '#FFFFFF',\n            contrastText: '#F68080',\n        },\n    },\n    typography: {\n        useNextVariants: true,\n        h1: {\n            fontFamily: 'Poppins',\n            fontWeight: 700,\n            color: '#FFFFFF',\n            fontSize: 44,\n            marginBottom: 20\n        },\n        h2: {\n            fontFamily: 'Poppins',\n            fontWeight: 700,\n            color: '#FFFFFF',\n            fontSize: 48,\n            margin: 0\n        },\n        h3: {\n            fontFamily: 'Poppins',\n            fontWeight: 700,\n            color: '#F68080',\n            fontSize: 24,\n            marginBottom: '16px'\n        },\n        h4: {\n            fontFamily: 'Poppins',\n            fontWeight: 700,\n            color: '#FFFFFF',\n            fontSize: 24,\n        },\n        h5: {\n            fontFamily: 'Poppins',\n            fontWeight: 700,\n            color: '#000000',\n            fontSize: 18,\n        },\n        h6: {\n            fontFamily: 'Poppins',\n            color: '#F68080',\n            fontSize: 12,\n        }\n    },\n});\n\nexport default theme;","const isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\nwindow.isUpdateAvailable = new Promise(function(resolve, reject) {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.register('service-worker.js')\n        .then(reg => {\n            reg.onupdatefound = () => {\n                const installingWorker = reg.installing;\n                installingWorker.onstatechange = () => {\n                    switch (installingWorker.state) {\n                        case 'installed':\n                            if (navigator.serviceWorker.controller) {\n                                resolve(true);\n                            } else {\n                                resolve(false);\n                            }\n                            break;\n                        default: \n                            break;\n                    }\n                };\n            };\n        })\n        .catch(err => console.error('[SW ERROR]', err));\n\t}\n});\n\nexport function register(config) {\n  if ('serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        \n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {HashRouter as Router} from 'react-router-dom';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport App from './App';\nimport theme from './theme';\nimport * as serviceWorker from './serviceWorker';\nimport * as firebase from 'firebase/app';\n\nlet firebaseConfig = {\n    apiKey: \"AIzaSyBePNJQYVteyh1Ll9fqnXbXc-S8fmJlbTQ\",\n    authDomain: \"boba-watch-firebase.firebaseapp.com\",\n    databaseURL: \"https://boba-watch-firebase.firebaseio.com\",\n    projectId: \"boba-watch-firebase\",\n    storageBucket: \"\",\n    messagingSenderId: \"674375234614\",\n    appId: \"1:674375234614:web:fdaf98c291204b9c\"\n};\nfirebase.initializeApp(firebaseConfig);\n\nReactDOM.render( \n    <MuiThemeProvider theme={theme}>\n        <Router basename={process.env.PUBLIC_URL} >\n            <App />\n        </Router>\n    </MuiThemeProvider>\n, document.getElementById('root'));\n/**\n * Service worker is activated but doesn't do much other than default\n * react service worker code.\n * Things to be implemented: cache, indexdb, complete offline mode\n */\nserviceWorker.register();\n"],"sourceRoot":""}