{"version":3,"sources":["components/textUtil.js","components/Dashboard.js","components/calculateStatistics.js","components/Add.js","components/TextClipboard.js","components/User.js","components/DrinkPanel.js","components/History.js","components/Login.js","Navigation.js","App.js","theme.js","serviceWorker.js","index.js"],"names":["textUtil","toMoney","money","arguments","length","undefined","parseInt","days","times","getDailyData","metrics","dailyGraph","maxes","drinks","forEach","day","push","Math","max","apply","i","time","j","x","y","color","concat","Dashboard","_Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","update","JSON","parse","localStorage","getItem","drinkTotal","setState","totalCost","totalDrinks","drinkPercentage","userDrinkMax","userSpendMax","sunburstData","size","children","title","accessToken","window","location","href","origin","toString","state","inherits","createClass","key","value","width","innerWidth","react_default","a","createElement","className","index_es","variant","Utils","es","height","data","padAngle","animation","colorType","style","backgroundPositionY","xType","yType","margin","orientation","stroke","strokeWidth","rectStyle","rx","ry","Component","getDefaultMetrics","drinkAvg","Array","fill","updateMetrics","drinkObject","price","date","Date","getDay","getHours","calculateStatistics","liveReload","drinkObjects","drinksList","drink","hasOwnProperty","id","setItem","stringify","recalculateMetrics","Add","_getPrototypeOf2","_len","args","_key","selectedDate","handleDateChange","fetch","userId","then","resp","ok","Error","statusText","json","stats","swal","close","catch","err","saveDrink","name","document","getElementById","toISOString","photo","description","isNaN","method","headers","Accept","Content-Type","body","open","onClick","Close_default","fontSize","textAlign","label","material_ui_pickers_esm","utils","DateFnsUtils","format","onChange","withRouter","TextClipboard","copiedNotification","closeSnackbar","copy","text","lib","padding","FileCopy_default","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","message","logoutButton","border","boxShadow","backgroundColor","User","userPublic","updateUser","user","budget","maxDrinks","makePublic","public","logout","FB","cookie","split","c","replace","toUTCString","handleChange","event","defineProperty","target","handleToggle","src","alt","checked","in","components_TextClipboard","DrinkPanel","add","toggle","toggleAdd","hasImage","trim","delete","axios","post","retrieveHistory","edit","dDate","substr","ExpandLess_default","ExpandMore_default","toDateString","Collapse_default","History","generate","console","log","map","sum","newDrinks","e","components_DrinkPanel","Login","isDesktop","innerHeight","componentDidMount","addEventListener","handleClose","successfulLogin","fbRes","clear","picture","url","storeData","history","responseFacebook","servRes","rel","action","aria-label","position","top","right","facebook_login_with_button_default","appId","autoLoad","fields","callback","Navigation","component","Link","to","icon","BarChart_default","disableRipple","refocus","Add_default","AttachMoney_default","App","item","current","userid","React","createRef","_this2","react_router","basename","process","initialEntries","initialIndex","exact","strict","path","render","components_Login","components_Dashboard","ref","components_History","components_Add","components_User","src_Navigation","theme","createMuiTheme","overrides","MuiButton","borderRadius","fontFamily","fontWeight","&:hover","MuiBottomNavigation","root","MuiBottomNavigationAction","iconOnly","wrapper","MuiDialogActions","palette","primary","main","light","contrastText","secondary","typography","useNextVariants","h1","marginBottom","h2","h3","h4","h5","h6","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","ReactDOM","styles","src_App_0","URL","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.cf8756cb.chunk.js","sourcesContent":["/**\n * @function toMoney - parses int value and displays decimal format\n * @param {*} money \n */\nfunction toMoney(money, short = false){\n    if(short){\n        return parseInt(money/100);\n    }\n    return parseInt(money/100) + '.' + (money % 100 < 10 ? \"0\" + money % 100 : money % 100);\n}\nexport default {\n    toMoney: toMoney\n}","import React, { Component } from 'react';\nimport {Typography, Card} from '@material-ui/core';\nimport { XYPlot, XAxis, YAxis, HeatmapSeries, Sunburst } from 'react-vis';\nimport Utils from './textUtil.js';\nimport './styles/dashboard.css';\nimport 'react-vis/dist/style.css';\n\nconst days = [ \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\" ];\nconst times = [ \"1 AM\", \"2 AM\", \"3 AM\", \"4 AM\", \"5 AM\", \"6 AM\", \"7 AM\", \"8 AM\", \"9 AM\", \"10 AM\", \"11 AM\", \"12 AM\" ,\n                \"1 PM\", \"2 PM\", \"3 PM\", \"4 PM\", \"5 PM\", \"6 PM\", \"7 PM\", \"8 PM\", \"9 PM\", \"10 PM\", \"11 PM\", \"12 PM\" ];\n\n\nfunction getDailyData(metrics){\n    let dailyGraph = [];\n    let maxes = [];\n    metrics.drinks.forEach(day => {maxes.push(Math.max.apply(null, day))});\n    let max = Math.max.apply(null, maxes);\n    metrics.drinks.forEach((day, i) => {\n        day.forEach((time, j) => {\n            dailyGraph.push({ x: days[i], y: times[j], color: `rgba(246, 128, 128, ${time === 0 ? 0.1 : (time)/max})`});\n        });\n    });\n    return dailyGraph;  \n}\nexport class Dashboard extends Component {\n    constructor(props) {\n        super(props);\n        if(this.props.accessToken === 0){\n            window.location.href = window.origin.toString();\n        }\n        let metrics = JSON.parse(localStorage.getItem('metrics'));\n        const drinkTotal = localStorage.getItem('userDrinkMax');\n        this.state = {\n            totalCost: metrics.totalCost,\n            totalDrinks: metrics.totalDrinks,\n            drinkPercentage: parseInt((metrics.totalDrinks/drinkTotal) * 100),\n            userDrinkMax: drinkTotal,\n            userSpendMax: localStorage.getItem('userSpendMax'),\n            time: getDailyData(metrics),\n            sunburstData : {\n                size: 0,\n                color: \"#FFFFFF\",\n                children: [\n                    {\n                        title: \"Progress\",\n                        size: metrics.totalCost,\n                        color: \"#32de44\",\n                        children:[\n                            {\n                                title: \"Padding\",\n                                size: 0,\n                                color: \"#FFFFFF\",\n                            }\n                        ]\n                    },\n                    {\n                        title: \"Until Limit\",\n                        size: localStorage.getItem('userSpendMax') - metrics.totalCost,\n                        color: \"#F4F4F4\",\n                    }\n                ]\n            }\n        };\n    }\n    update = () => {\n        let metrics = JSON.parse(localStorage.getItem('metrics'));\n        const drinkTotal = localStorage.getItem('userDrinkMax');\n        this.setState({\n            totalCost: metrics.totalCost,\n            totalDrinks: metrics.totalDrinks,\n            drinkPercentage: parseInt((metrics.totalDrinks/drinkTotal) * 100),\n            userDrinkMax: drinkTotal,\n            userSpendMax: localStorage.getItem('userSpendMax'),\n            time: getDailyData(metrics),\n            sunburstData : {\n                size: 0,\n                color: \"#FFFFFF\",\n                children: [\n                    {\n                        title: \"Progress\",\n                        size: metrics.totalCost,\n                        color: \"#32de44\",\n                        children:[\n                            {\n                                title: \"Padding\",\n                                size: 0,\n                                color: \"#FFFFFF\",\n                            }\n                        ]\n                    },\n                    {\n                        title: \"Until Limit\",\n                        size: localStorage.getItem('userSpendMax') - metrics.totalCost,\n                        color: \"#F4F4F4\",\n                    }\n                ]\n            }\n        });\n    }\n    render() {\n        let width = window.innerWidth - 40;\n        return (\n        <div className=\"dashboard-page\">\n            <Typography variant=\"h4\" className=\"dashboard-page--title\">Monthly Spending</Typography>\n            <Card className=\"chart-holder\">\n                <div className=\"chard-holder-description\">\n                    MONTHLY LIMIT: ${Utils.toMoney(this.state.userSpendMax, this.state.userSpendMax/10000 > 1)}\n                    <br />\n                    <span>${Utils.toMoney(this.state.totalCost, this.state.totalCost/10000 > 1)}</span>\n                    <br />\n                    REMAINING: ${Utils.toMoney(this.state.userSpendMax - this.state.totalCost)}\n                </div>\n                <Sunburst height={width-45} width={width-45} data={this.state.sunburstData} padAngle={0.06} animation colorType={'literal'} />\n            </Card>\n            <Card className=\"month-total-money\">\n                <p>This is how much youâ€™ve spent on boba this month:</p>\n                <Typography variant=\"h2\">${Utils.toMoney(this.state.totalCost, this.state.totalCost/10000 > 1)}</Typography>\n            </Card>\n            <Card className=\"month-drink-limit\" style={{backgroundPositionY: (100 - this.state.drinkPercentage) * 2.7}}>\n                <Typography variant=\"h3\">{this.state.drinkPercentage}%</Typography>\n                <p>to your max number of drinks this month</p>\n            </Card>\n            <Card className=\"month-total-drinks\">\n                <Typography variant=\"h2\">{this.state.totalDrinks}</Typography>\n                <p>drinks this month</p>\n            </Card>\n            <Card className=\"daily-chart\">\n                <XYPlot xType=\"ordinal\" yType=\"ordinal\" margin={60} width={width} height={1.8*width}>\n                <XAxis orientation=\"top\" />\n                <YAxis />\n                <HeatmapSeries\n                    colorType=\"literal\"\n                    style={{\n                        stroke: 'white',\n                        strokeWidth: '2px',\n                        rectStyle: {\n                            rx: 10,\n                            ry: 10\n                        }\n                    }}\n                    data={this.state.time}\n                    />\n                </XYPlot>\n            </Card>\n        </div>\n        )\n    }\n}\n\nexport default Dashboard\n","/**\n * @file calculateStatistics.js\n * @copyright Ryan Yang 2019\n * @summary - A set of functions to help calculate metrics for user's drink objects\n */\n\n/**\n * @function getDefaultMetrics - returns an emtpy metrics object. Called during\n * metric recalcuation when starting from nothing. \n * NOTE @note - drinks member should be a 2d array of 168 objects (7x24) of day by time\n * Array(7).fill(Array(24).fill(0)) creates 7 references to the same array and therefore\n * will not work as intended\n */\nfunction getDefaultMetrics(){\n    let metrics = {\n        'totalDrinks': 0,\n        'totalCost': 0,\n        'drinkAvg': 0,\n        'drinks': Array(7),\n    }\n    for(let i = 0; i < 7; i++){\n        metrics.drinks[i] = Array(24).fill(0);\n    }\n    return metrics\n}\n\n/**\n * @function recalculateMetrics - Completely recalculates all the data for all the drinks.\n * Should only be called during testing and first time loads on a new device. If old data\n * is stored, should call liveReload function instead\n * @param {*} drinkObjects \n */\nfunction recalculateMetrics(drinkObjects){\n    let drinksList = [];\n    let metrics = getDefaultMetrics();\n    drinkObjects.forEach(drink => {\n        updateMetrics(drink, metrics);\n        drinksList.push(drink.id);\n        localStorage.setItem(drink.id, JSON.stringify(drink));\n    });\n    localStorage.setItem('drinksList', JSON.stringify(drinksList));\n    localStorage.setItem('metrics', JSON.stringify(metrics));\n    return metrics;\n}\n\n/**\n * @function updateMetrics - Updates the current metric object given a new drink\n * Should be called when \n * @param {*} drinkObject - single drink object to be included in calculations\n * @param {*} metrics - metrics object to be updated\n */\nfunction updateMetrics(drinkObject, metrics){\n    metrics.totalDrinks += 1;\n    metrics.totalCost += drinkObject.price;\n    metrics.drinkAvg = metrics.totalCost / metrics.totalDrinks;\n    let date = new Date(drinkObject.date);\n    metrics.drinks[date.getDay()][date.getHours() - 1] += 1;\n}\n\n/**\n * @function liveReload = Checks which drinks have been added that are new and only updates \n * those objects\n * @param {*} drinkObjects \n */\nfunction liveReload(drinkObjects, metrics){\n    let drinksList = [];\n    drinkObjects.forEach(drink => {\n        if(!localStorage.hasOwnProperty(drink.id)){\n            updateMetrics(drink, metrics);\n            drinksList.push(drink.id);\n            localStorage.setItem(drink.id, JSON.stringify(drink));\n        }\n    });\n    localStorage.setItem('drinksList', JSON.stringify(drinksList));\n    return metrics;\n}\n\nexport default {\n    'getDefaultMetrics': getDefaultMetrics,\n    'liveReload': liveReload,\n    'recalculateMetrics': recalculateMetrics,\n    'updateMetrics': updateMetrics\n}","import React, { Component } from 'react';\nimport 'date-fns';\nimport swal from 'sweetalert';\nimport './styles/add.css';\nimport {Typography, TextField, Button, IconButton, Modal} from '@material-ui/core';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, DateTimePicker } from 'material-ui-pickers';\nimport CloseButton from '@material-ui/icons/Close';\nimport {withRouter} from 'react-router-dom';\nimport stats from './calculateStatistics';\n\nexport class Add extends Component {\n    state = {\n        selectedDate: new Date()\n    }\n    handleDateChange = (date) => {\n        this.setState({ selectedDate: date });\n    };\n    /**\n     * @function update\n     * TODO: implement live reload instead of using recalculate metrics\n     */\n    update = () => {\n        fetch(\"https://api.boba.watch/drinks/user/\" + this.props.userId,{\n        }).then(resp => {\n            if (!resp.ok) {\n                throw Error(resp.statusText);\n            }\n            return resp;\n        }).then((resp) => { return resp.json();\n        }).then((resp) => { \n            stats.recalculateMetrics(resp);\n            swal(\"Done!\", \"Drink has been added\", \"success\"); \n            this.props.close();\n        }).catch(err => { swal(\"Error!\", `Something Went Wrong: ${err}`, \"error\");\n        });   \n    }\n    /**\n     * @function saveDrink - called when the user submits drink information to be added.\n     * Has 3 parts:\n     *  1. Gets all the user filled out info\n     *  2. Only required parameter is price and if not filled, throws error\n     *  3. Makes api call to server to add the drink with info\n     * \n     * TODO: better job of parsing the info and potentially add chips and autofill for\n     * better data processing\n     */\n    saveDrink = () => {\n        let data = {\n            drink: {\n                name: document.getElementById('name-value').value,\n                location: document.getElementById('location-value').value,\n                price: parseInt(document.getElementById('price-value').value * 100),\n                date: new Date(document.getElementById('date-value').value).toISOString(),\n                photo: \"\",\n                userId: parseInt(this.props.userId),\n                description: document.getElementById('description-value').value\n            }\n        }\n        if(document.getElementById('price-value').value === '' || \n            isNaN(parseInt(document.getElementById('price-value').value)) ||\n            parseInt(document.getElementById('price-value').value) === 0\n        ){\n            swal(\"Error!\", `Please enter a price to add drink`, \"error\");\n            return;\n        }\n        fetch(\"https://api.boba.watch/drinks/\" + this.props.accessToken, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data),\n        }).then(resp => {\n            if (!resp.ok) {\n                throw Error(resp.statusText);\n            }\n            return resp;\n        }).then((resp) => { this.update();\n        }).catch(err => {swal(\"Error!\", `Couldn't update drinks. Error: ${err}`, \"error\");\n        });\n    };\n    render() {\n        return (\n        <Modal open={this.props.open}>\n            <div className=\"add-modal\">\n                <IconButton color=\"secondary\" className=\"close-button\" onClick={this.props.close}>\n                    <CloseButton color=\"secondary\" style={{ fontSize: 14 }}/>\n                </IconButton>\n                <Typography variant=\"h5\" style={{textAlign: \"center\"}}>Add a purchase</Typography>\n                <TextField id=\"location-value\" className=\"add-input\" label=\"Location\"/>\n                <TextField id=\"name-value\" className=\"add-input\" margin=\"dense\" label=\"Drink name\"/>\n                <TextField id=\"price-value\" className=\"add-input\" margin=\"dense\" label=\"Price\" />\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                    <DateTimePicker\n                        id=\"date-value\"\n                        className=\"add-input\"\n                        margin=\"dense\"\n                        format=\"M/d/yyyy h:mm a\"\n                        label=\"Date picker\"\n                        value={this.state.selectedDate}\n                        onChange={this.handleDateChange}\n                    />\n                </MuiPickersUtilsProvider>\n                <TextField id=\"description-value\" className=\"add-input\" label=\"Description\"/>\n                <div className=\"add-button-holder\">\n                    <Button onClick={this.saveDrink} className=\"add-button\">ADD</Button>\n                </div>\n            </div>\n        </Modal>\n        )\n    }\n}\n\nexport default withRouter(Add);\n","import React, { Component } from 'react';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\nimport {IconButton, Snackbar} from '@material-ui/core';\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport './styles/textclipboard.css';\n\nexport class TextClipboard extends Component{\n    state = {\n        copiedNotification: false\n    }\n    closeSnackbar = () => {\n        this.setState({ copiedNotification: false });\n    };\n    copy = () => {\n        this.setState({ copiedNotification: true });\n    }\n    render() {\n        return (\n        <div className=\"clipboard\">\n            <div className=\"clipboard-text\" id=\"copy-me\">\n                {this.props.text}\n            </div>\n            <CopyToClipboard text={this.props.text} >\n                <IconButton style={{padding: 0}} className=\"clipboard-icon\" onClick={this.copy}>\n                    <FileCopyIcon style={{fontSize: 14}}/>\n                </IconButton>\n            </CopyToClipboard>\n            <Snackbar\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'center',\n                }}\n                open={this.state.copiedNotification}\n                autoHideDuration={6000}\n                onClose={this.closeSnackbar}\n                message={<span>Link Copied!</span>}\n            />\n        </div>\n        )\n    }\n}\n\nexport default TextClipboard;\n","import React, { Component } from 'react';\nimport {Typography, TextField, Button, IconButton, Switch, Collapse, Modal} from '@material-ui/core';\nimport swal from 'sweetalert';\nimport Utils from './textUtil';\nimport CloseButton from '@material-ui/icons/Close';\nimport TextClipboard from './TextClipboard';\nimport './styles/user.css';\n\nlet logoutButton = {\n    color: '#FF0000',\n    border: '1px solid red',\n    boxShadow: 'none',\n    backgroundColor: '#FFFFFF'\n};\n\nexport class User extends Component {\n    state = {\n        userSpendMax: Utils.toMoney(localStorage.getItem('userSpendMax'), localStorage.getItem('userSpendMax') % 100 === 0),\n        userDrinkMax: localStorage.getItem('userDrinkMax'),\n        userPublic: localStorage.getItem('userPublic') === 'true' ? true : false,\n    };\n    updateUser = () => {\n        const data = { \n            \"user\": { \n                \"budget\": parseInt(this.state.userSpendMax * 100),\n                \"maxDrinks\": parseInt(this.state.userDrinkMax),\n            }\n        };\n        fetch(`https://api.boba.watch/users/${this.props.userId}/${this.props.accessToken}`, {\n            method: 'PUT',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data),\n        }\n        ).then(resp => {\n            if (!resp.ok) {\n                throw Error(resp.statusText);\n            }\n            return resp;\n        }).then(resp => {\n            return resp.json();\n        }).then(resp => {\n            localStorage.setItem('userSpendMax', parseInt(this.state.userSpendMax * 100));\n            localStorage.setItem('userDrinkMax', this.state.userDrinkMax);\n            swal(\"Success!\", \"Updated your settings successfully.\", \"success\");\n            this.props.close();\n        }).catch(err => {\n            swal(\"Error!\", \"Error updating data\", \"error\");\n        });\n    };\n    makePublic = () => {\n        const data = { \n            \"user\": {\n                \"public\": this.state.userPublic\n            }\n        };\n        fetch(`https://api.boba.watch/users/${this.props.userId}/${this.props.accessToken}`, {\n            method: 'PUT',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data),\n        }\n        ).then(resp => {\n            if (!resp.ok) {\n                throw Error(resp.statusText);\n            }\n            return resp;\n        }).then(resp => {\n            return resp.json();\n        }).then(resp => {\n            localStorage.setItem('userPublic', this.state.userPublic);\n            swal(\"Success!\", \"Your privacy settings have been changed\", \"success\");\n        }).catch(err => {\n            swal(\"Error!\", \"Error changing privacy setting\", \"error\");\n        });\n    }\n    logout = () => {\n        window.FB.logout((resp) => {\n            document.cookie.split(\";\").forEach(function(c) {\n                document.cookie = c.replace(/^ +/, \"\").replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\");\n            });\n            window.location = window.location.origin;\n        });\n    }\n    handleChange = name => event => {\n        this.setState({\n            [name]: event.target.value,\n        });\n    };\n    handleToggle = () => {\n        this.setState(state => ({\n            userPublic: !state.userPublic,\n        }), () => {this.makePublic()});\n    };\n    close = () => {\n        this.props.close();\n    }\n    render() { \n        return (\n        <Modal open={this.props.open}>\n            <div className=\"user-modal\" style={{height: this.state.userPublic ? 385 : 350}}>\n                <IconButton color=\"secondary\" className=\"close-button\" onClick={this.close}>\n                    <CloseButton color=\"secondary\" style={{ fontSize: 14 }}/>\n                </IconButton>\n                <img src={localStorage.getItem('avatar')} className=\"user-avatar\" alt=\"user\"/>\n                <Typography variant=\"h5\" style={{textAlign: \"center\"}}>User settings</Typography>\n                <TextField\n                    id=\"monthly-spending-input\"\n                    className=\"user-input\"\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    onChange={this.handleChange('userSpendMax')}\n                    value={this.state.userSpendMax}\n                    label=\"Monthly Spending Limit\"\n                />\n                <TextField\n                    id=\"monthly-drinking-limit\"\n                    className=\"user-input\"\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                    onChange={this.handleChange('userDrinkMax')}\n                    value={this.state.userDrinkMax}\n                    label=\"Max of drinks / month\"\n                />\n                <div className=\"user-share-profile\">\n                    Share Profile: \n                    <Switch\n                        checked={this.state.userPublic}\n                        onClick={this.handleToggle}\n                        label=\"Share Profile\"\n                        color=\"primary\"\n                    />\n                </div>\n                <Collapse in={this.state.userPublic}>\n                    <TextClipboard text={`https://share.boba.watch/#/${this.props.userId}`}/>\n                </Collapse>\n                <div className=\"update-button-holder\">\n                    <Button className=\"logout-button\" variant=\"text\" onClick={this.logout} style={logoutButton}>LOGOUT</Button>\n                    <Button className=\"update-button\" onClick={this.updateUser}>UPDATE</Button>\n                </div>\n            </div>\n        </Modal>\n        )\n    }\n}\n\nexport default User;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport {Button} from '@material-ui/core';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport swal from 'sweetalert';\nimport Utils from './textUtil.js';\nimport './styles/history.css';\n\nexport class DrinkPanel extends Component {\n    state =  {\n        open: false,\n        add: false\n    }\n    toggle = () => {\n        this.setState(state => ({ open: !state.open }));\n    }\n    toggleAdd = () => {\n        this.setState(state => ({ add: !state.add }));\n    }\n    hasImage = () => {\n        if(this.props.data.photo !== null && this.props.data.photo.trim() !== \"\" && this.props.data.photo !== \"asdf\" ){\n            return  <img alt=\"drink\" src={this.props.data.photo} />;\n        }\n    }\n    delete = () => {\n        axios.post(\"https://api.boba.watch/drinks/delete/\" + this.props.data.id + \"/\" + this.props.accessToken)\n        .then((resp) => { \n            this.props.retrieveHistory();\n        }).catch(err => { swal('Error!', `Couldn't delete your drink. Try again later!`, 'error') });\n    }\n    edit = () => {\n        this.toggleAdd(this.delete);\n    }\n    /**\n     * TODO: if implementing edit function ever again, uncomment below code\n     */\n    render() {\n        let dDate = new Date(this.props.data.date);\n        return (\n        <div className=\"thaman-color\">\n            {/* <Modal open={this.state.add} onBackdropClick={this.toggleAdd} >\n                <div>\n                    <Add toggleSelf={this.edit}/>\n                </div>\n            </Modal> */}\n            <div className=\"history-drink-label\" onClick={this.toggle}>\n                <p className=\"drink-place\">\n                    {this.props.data.location.length > 13\n                        ? this.props.data.location.substr(0, 10) + \"...\"\n                        : this.props.data.location }\n                </p>\n                <p className=\"drink-price\">\n                    ${Utils.toMoney(this.props.data.price)}\n                </p>\n                <div className=\"expand-icon\">\n                    {this.state.open ? <ExpandLessIcon /> : <ExpandMoreIcon/>}\n                </div>\n                <p className=\"drink-name\">\n                    {this.props.data.name.length > 13\n                        ? this.props.data.name.substr(0, 10) + \"...\"\n                        : this.props.data.name }\n                </p>\n                <p className=\"drink-time\">\n                    {(new Date(this.props.data.date)).toDateString().substr(4)}\n                </p>\n            </div>\n            <Collapse in={this.state.open} className=\"drink-collapse\">\n                {/* {this.hasImage()} */}\n                <p className=\"drink-label\">\n                    {this.props.data.name} \n                    <br />\n                    <span>@{this.props.data.location}</span>\n                </p>\n                <p className=\"drink-description\">\n                    {this.props.data.description}\n                </p>\n                <p className=\"drink-date\">\n                    <span>on</span> {dDate.toDateString()}\n                </p>\n\n                <div className=\"drink-options\">\n                    {/* <Button onClick={this.edit}>EDIT</Button> */}\n                    <Button onClick={this.delete}>DELETE</Button>\n                </div>\n            </Collapse>\n        </div>\n        )\n    }\n}\n\nexport default DrinkPanel;\n","import React, { Component } from 'react';\nimport {Typography} from '@material-ui/core';\nimport DrinkPanel from './DrinkPanel';\nimport Utils from './textUtil.js';\nimport stats from './calculateStatistics';\nimport swal from 'sweetalert';\nimport './styles/history.css';\n\nexport class History extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            drinks: [<Typography variant=\"h3\" key={1}>No Drinks</Typography>],\n            sum: 0\n        };\n        if(this.props.accessToken === 0){\n            window.location.href = window.origin.toString();\n        }\n    }\n    componentDidMount(){\n        this.generate();\n    }\n    update = () => {\n        this.generate();\n    }\n    retrieveHistory = () => {\n        fetch(\"https://api.boba.watch/drinks/user/\" + this.props.userId,{\n        }).then(resp => {\n            if (!resp.ok) {\n                throw Error(resp.statusText);\n            }\n            return resp;\n        }).then((resp) => { return resp.json();\n        }).then((resp) => { \n            stats.recalculateMetrics(resp);\n            swal(\"Done!\", \"Drink has been deleted\", \"success\"); \n            this.generate();\n        }).catch(err => { console.log(err);\n        });   \n    }\n    generate = () => {\n        let drinks = JSON.parse(localStorage.getItem('drinksList'));\n        drinks = drinks.map(id => JSON.parse(localStorage.getItem(id)) );\n        let sum = 0;\n        let newDrinks = drinks.map((e, i) => {\n            sum += e['price'];\n            return (<DrinkPanel key={e.id} data={e} retrieveHistory={this.retrieveHistory} accessToken={this.props.accessToken}/>);\n        });\n        this.setState({\n            drinks: newDrinks,\n            sum: sum\n        });\n    };\n    \n    render() {\n        return (\n        <div className=\"history-page\">\n            <Typography variant=\"h3\"> Monthly Spending</Typography>\n            <div id=\"history-spending\">\n                {this.state.drinks}\n            </div>\n            <Typography variant=\"h3\" className=\"history-total\"> <span>Monthly Total:</span> ${Utils.toMoney(this.state.sum)} </Typography>\n        </div>\n        )\n    }\n}\n\nexport default History;\n","import React, { Component } from 'react';\nimport {Typography, Snackbar, IconButton} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport FacebookLogin from 'react-facebook-login';\nimport { withRouter } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport './styles/login.css';\nimport stats from './calculateStatistics';\nimport axios from 'axios';\n\nconst desktopAlertString = `Looks like you're using a desktop / landscape mode. Although we're working hard on designing an intuitive desktop mode, there isn't one at the moment. For the best experience, download our progressive web app on your phone! Find more info here:`;\n\nexport class Login extends Component {\n    state = {\n        isDesktop: (window.innerHeight/window.innerWidth < 1.2)\n    }\n    componentDidMount = () => {\n        window.addEventListener('resize', \n            () => this.setState({isDesktop: (window.innerHeight/window.innerWidth < 1.2)})\n        );\n    }\n    handleClose = () => {\n        this.setState({ isDesktop: false });\n    };\n    successfulLogin = (userId, fbRes) => {\n        if(localStorage.getItem('userId') !== userId){\n            localStorage.clear();\n            localStorage.setItem('userId', userId);\n        }\n        localStorage.setItem('avatar', fbRes.picture.data.url);\n        this.props.successfulLogin(userId, fbRes);\n        fetch(`https://api.boba.watch/drinks/user/${userId}`, {\n        }).then(resp => {\n            if (!resp.ok) {\n                throw Error(resp.statusText);\n            }\n            return resp;\n        }).then((resp) => { return resp.json();\n        }).then((resp) => { \n            this.storeData(resp, userId, fbRes.accessToken);\n        }).catch(err => { swal('Whoops!', `Error logging you in: ${err}`, 'error');\n        });\n    };\n    /**\n     * @function storeData\n     * @param {JSON} resp - array of drink objects\n     * @param {int} userId - user id in database to get drinks of\n     * \n     * TODO: Firefox has a weird bug that doesn't make the login work out well\n     */\n    storeData = (resp, userId, accessToken) => {\n        stats.recalculateMetrics(resp);\n        fetch(`https://api.boba.watch/users/${userId}/${accessToken}`\n        ).then(resp => {\n            if (!resp.ok) {\n                throw Error(resp.statusText);\n            }\n            return resp;\n        }).then(resp => {\n            return resp.json();\n        }).then(resp => {\n            localStorage.setItem('userSpendMax', resp.budget);\n            localStorage.setItem('userDrinkMax', resp.maxDrinks);\n            localStorage.setItem('userPublic', resp.public);\n            this.props.history.push('./dash');\n        }).catch(err => {\n            swal(\"Error!\", \"I had trouble getting your settings.\", \"error\");\n        });\n    }\n\tresponseFacebook = (fbRes) => {\n\t\taxios.post(\"https://api.boba.watch/users/login\", { fbRes })\n\t\t.then(servRes => {\n\t\t\tif (servRes.data.hasOwnProperty('userId')) {\n\t\t\t\tthis.setState(() => ({\n\t\t\t\t\tuserId: servRes.data.userId,\n\t\t\t\t\taccessToken: fbRes.accessToken\n                }), () => {this.successfulLogin(servRes.data.userId, fbRes);});\n\t\t\t}\n\t\t\telse {\n                swal(\"Error!\", `Login Unsuccessful`, \"error\");\n                // eslint-disable-next-line\n\t\t\t\tthrow 'Facebok Login Failed';\n\t\t\t}\n\t\t})\n\t\t.catch(err => console.log(err));\n    };\n\n    render() {\n        return (\n        <div className=\"login-page\">\n            <div className=\"login-logo\"></div>\n            <Typography variant=\"h1\">boba watch</Typography>\n            <Snackbar\n                open={this.state.isDesktop}\n                message={[desktopAlertString,  <a \n                    href=\"https://info.boba.watch/\"\n                    rel=\"noopener noreferrer\"\n                    target='_blank'\n                    style={{color: '#FFDCDC'}}> \n                        https://info.boba.watch/ \n                    </a>]}\n                action={\n                    <IconButton\n                      key=\"close\"\n                      aria-label=\"Close\"\n                      style={{position: \"fixed\", top: 0, right: 0, color: '#FFFFFF'}}\n                      onClick={this.handleClose}\n                    >\n                        <CloseIcon />\n                    </IconButton>\n                  }\n            />\n                <FacebookLogin\n                    appId=\"333104870889201\"\n                    autoLoad={true}\n                    fields=\"name,email,picture\"\n                    style={{margin: '50px'}}\n                    callback={this.responseFacebook}\n                />            \n        </div>\n        )\n    }\n}\n\nexport default withRouter(Login);\n","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport {BottomNavigation, BottomNavigationAction} from '@material-ui/core';\nimport DashboardIcon from '@material-ui/icons/BarChart';\nimport AddIcon from '@material-ui/icons/Add';\nimport HistoryIcon from '@material-ui/icons/AttachMoney';\nimport './App.css';\n\nexport class Navigation extends Component {\n    render() {\n        return (\n            <BottomNavigation value={this.props.value} onChange={this.props.handleChange} className=\"bottom-nav\">\n                <BottomNavigationAction\n                    label=\"Dashboard\"\n                    value=\"dash\"\n                    component={Link}\n                    to=\"/dash\"\n                    icon={<DashboardIcon />}\n                />\n                <BottomNavigationAction\n                    value=\"add\"\n                    disableRipple={true}\n                    onClick={this.props.toggleAdd}\n                    onClose={this.refocus}\n                    icon={ <div className=\"center-fab\"> < AddIcon style={{ fontSize: 50 }}/></div> }\n                />\n                <BottomNavigationAction\n                    label=\"Spending\"\n                    value=\"history\"\n                    component={Link}\n                    to=\"/history\"\n                    icon={<HistoryIcon />}\n                />\n            </BottomNavigation>\n        )\n    }\n}\n\nexport default Navigation;\n","import React, { Component } from 'react';\nimport {MemoryRouter as Router, Route, Switch} from 'react-router-dom';\nimport Dashboard from './components/Dashboard';\nimport Add from './components/Add';\nimport User from './components/User';\nimport History from './components/History';\nimport Login from './components/Login';\nimport stats from './components/calculateStatistics.js';\nimport Navigation from './Navigation';\nimport './App.css';\n\nclass App extends Component {\n    constructor(props){\n        super(props);\n        // const isIos = () => {\n        //     const userAgent = window.navigator.userAgent.toLowerCase();\n        //     return /iphone|ipad|ipod/.test( userAgent );\n        // }\n        // const isInStandaloneMode = () => ('standalone' in window.navigator) && (window.navigator.standalone);        \n        // if (isIos() && !isInStandaloneMode()) {\n        //     /**\n        //      * TODO: Prompt user for adding on safari\n        //      */\n        // }\n        this.state = {\n            add: false,\n            user: false,\n            value: '',\n            userId: 1,\n            accessToken: 0,\n            metrics: stats.getDefaultMetrics()\n        };\n        this.update = React.createRef();\n    }\n    toggle = (item) => {\n        this.setState(state => ({\n            [item]: !state[item],\n        }));\n        this.update.current.update();\n    }\n    handleChange = (event, value) => {\n        this.setState({ value });\n    };\n    successfulLogin = (userid, fbRes) => {\n        this.setState({\n            userId: userid,\n            accessToken: fbRes.accessToken,\n            fbRes: fbRes\n        });\n    }\n    render() {\n        return (\n        <Router basename={process.env.PUBLIC_URL} initialEntries={['/', '/dash', '/history']} initialIndex={0}>\n            <Switch>\n                <Route exact strict path='/' render={() => <Login successfulLogin={ this.successfulLogin }/> }/>\n                <Route strict path='/:page' render={() => \n                    <div>\n                        <div className=\"page\">\n                            <img \n                                src={localStorage.getItem('avatar')}\n                                alt=\"user-settings\"\n                                className=\"avatar-button\"\n                                onClick={() => this.toggle('user')}\n                            />\n                            <Route exact path='/dash' render={() => \n                                <Dashboard \n                                    userId={this.state.userId} \n                                    accessToken={this.state.accessToken}\n                                    metrics={this}\n                                    ref={this.update}\n                                />\n                            }/>\n                            <Route exact path='/history' render={() => \n                                <History \n                                    accessToken={ this.state.accessToken }\n                                    userId={this.state.userId}\n                                    ref={this.update}\n                                />\n                            }/>\n                        </div>\n                        <Add \n                            open={this.state.add}\n                            accessToken={this.state.accessToken}\n                            userId={this.state.userId}\n                            close={() => this.toggle('add')}\n                        />\n                        <User\n                            open={this.state.user}\n                            accessToken={this.state.accessToken}\n                            userId={this.state.userId}\n                            close={() => this.toggle('user')}\n                        />\n                        <Navigation\n                            value={this.state.value}\n                            handleChange={this.handleChange}\n                            toggleAdd={() => this.toggle('add')}\n                        />\n                    </div>\n                } />\n                <Route render={() => <Login successfulLogin={ this.successfulLogin }/> }/>\n            </Switch>\n        </Router>\n        );\n    }\n}\n\nexport default App;\n","import {createMuiTheme} from '@material-ui/core';\n\n\nconst theme = createMuiTheme({\n    overrides: {\n      MuiButton: {\n        text: {\n          backgroundColor: '#F68080',\n          borderRadius: 3,\n          border: 0,\n          color: 'white',\n          height: 30,\n          padding: '0 30px',\n          margin: '20px',\n          boxShadow: '0 3px 5px 2px rgba(255, 105, 135, 0.3)',\n          fontFamily: 'Poppins',\n          fontWeight: 700,\n          fontSize: 14,\n          '&:hover': {\n            backgroundColor: '#FFDCDC'\n          }\n        },\n      },\n      MuiBottomNavigation: {\n        root: {\n            backgroundColor: '#FFAFA4',\n        }\n      },\n      MuiBottomNavigationAction: {\n        root: {\n            color: '#000000',\n        },\n        iconOnly: {\n            color: '#FF0000'\n        },\n        wrapper: {\n            color: '#FFFFFF ',\n        }\n      },\n      MuiDialogActions: {\n        action: {\n          color: '#FFFFFF'\n        },\n      }\n    },\n    palette: {\n        primary: {\n          main: '#F68080',\n          light: '#FFDCDC',\n          contrastText:'#FFFFFF'\n        },\n        secondary: {\n            main: '#FFFFFF',\n            contrastText: '#F68080',\n        },\n    },\n    typography: {\n        useNextVariants: true,\n        h1: {\n            fontFamily: 'Poppins',\n            fontWeight: 700,\n            color: '#FFFFFF',\n            fontSize: 44,\n            marginBottom: 20\n        },\n        h2: {\n            fontFamily: 'Poppins',\n            fontWeight: 700,\n            color: '#FFFFFF',\n            fontSize: 48,\n            margin: 0\n        },\n        h3: {\n            fontFamily: 'Poppins',\n            fontWeight: 700,\n            color: '#F68080',\n            fontSize: 24,\n            marginBottom: '16px'\n        },\n        h4: {\n            fontFamily: 'Poppins',\n            fontWeight: 700,\n            color: '#FFFFFF',\n            fontSize: 24,\n        },\n        h5: {\n            fontFamily: 'Poppins',\n            fontWeight: 700,\n            color: '#000000',\n            fontSize: 18,\n        },\n        h6: {\n            fontFamily: 'Poppins',\n            color: '#F68080',\n            fontSize: 12,\n        }\n    },\n});\n\nexport default theme;","const isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if ('serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        \n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport App from './App';\nimport theme from './theme';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render( \n    <MuiThemeProvider theme={theme}>\n        <App />\n    </MuiThemeProvider>\n, document.getElementById('root'));\n/**\n * Service worker is activated but doesn't do much other than default\n * react service worker code.\n * Things to be implemented: cache, indexdb, complete offline mode\n */\nserviceWorker.register();\n"],"sourceRoot":""}